{
  "AWSTemplateFormatVersion":"2010-09-09",
  "Description":"Cloudformation template for supply dynamodb tables",
  "Resources":{
    "MemberProfile":{
      "Type":"AWS::DynamoDB::Table",
      "Properties":{
        "AttributeDefinitions":[
          {
            "AttributeName":"userId",
            "AttributeType":"N"
          },
          {
            "AttributeName":"handleLower",
            "AttributeType":"S"
          }
        ],
        "KeySchema":[
          {
            "AttributeName":"userId",
            "KeyType":"HASH"
          }
        ],
        "GlobalSecondaryIndexes":[
          {
            "IndexName":"handleLower-index",
            "KeySchema":[
              {
                "AttributeName":"handleLower",
                "KeyType":"HASH"
              }
            ],
            "ProvisionedThroughput":{
              "ReadCapacityUnits":"1",
              "WriteCapacityUnits":"1"
            },
            "Projection":{
              "ProjectionType":"ALL"
            }
          }
        ],
        "ProvisionedThroughput":{
          "ReadCapacityUnits":"2",
          "WriteCapacityUnits":"2"
        },
        "TableName":"MemberProfile"
      }
    },
    "MemberStats":{
      "Type":"AWS::DynamoDB::Table",
      "Properties":{
        "AttributeDefinitions":[
          {
            "AttributeName":"userId",
            "AttributeType":"N"
          },
          {
            "AttributeName":"handleLower",
            "AttributeType":"S"
          }
        ],
        "KeySchema":[
          {
            "AttributeName":"userId",
            "KeyType":"HASH"
          }
        ],
        "GlobalSecondaryIndexes":[
          {
            "IndexName":"handleLower-index",
            "KeySchema":[
              {
                "AttributeName":"handleLower",
                "KeyType":"HASH"
              }
            ],
            "ProvisionedThroughput":{
              "ReadCapacityUnits":"1",
              "WriteCapacityUnits":"1"
            },
            "Projection":{
              "ProjectionType":"ALL"
            }
          }
        ],
        "ProvisionedThroughput":{
          "ReadCapacityUnits":"2",
          "WriteCapacityUnits":"2"
        },
        "TableName":"MemberStats"
      }
    },
    "MemberStatsHistory":{
      "Type":"AWS::DynamoDB::Table",
      "Properties":{
        "AttributeDefinitions":[
          {
            "AttributeName":"userId",
            "AttributeType":"N"
          },
          {
            "AttributeName":"handleLower",
            "AttributeType":"S"
          }
        ],
        "KeySchema":[
          {
            "AttributeName":"userId",
            "KeyType":"HASH"
          }
        ],
        "GlobalSecondaryIndexes":[
          {
            "IndexName":"handleLower-index",
            "KeySchema":[
              {
                "AttributeName":"handleLower",
                "KeyType":"HASH"
              }
            ],
            "ProvisionedThroughput":{
              "ReadCapacityUnits":"1",
              "WriteCapacityUnits":"1"
            },
            "Projection":{
              "ProjectionType":"ALL"
            }
          }
        ],
        "ProvisionedThroughput":{
          "ReadCapacityUnits":"2",
          "WriteCapacityUnits":"2"
        },
        "TableName":"MemberStatsHistory"
      }
    },
    "RatingsDistribution":{
      "Type":"AWS::DynamoDB::Table",
      "Properties":{
        "AttributeDefinitions":[
          {
            "AttributeName":"track",
            "AttributeType":"S"
          },
          {
            "AttributeName":"subTrack",
            "AttributeType":"S"
          }
        ],
        "KeySchema":[
          {
            "AttributeName":"track",
            "KeyType":"HASH"
          },
          {
            "AttributeName":"subTrack",
            "KeyType":"RANGE"
          }
        ],
        "ProvisionedThroughput":{
          "ReadCapacityUnits":"2",
          "WriteCapacityUnits":"2"
        },
        "TableName":"RatingsDistribution"
      }
    },
    "MemberEnteredSkills":{
      "Type":"AWS::DynamoDB::Table",
      "Properties":{
        "AttributeDefinitions":[
          {
            "AttributeName":"userId",
            "AttributeType":"N"
          },
          {
            "AttributeName":"handleLower",
            "AttributeType":"S"
          }
        ],
        "KeySchema":[
          {
            "AttributeName":"userId",
            "KeyType":"HASH"
          }
        ],
        "GlobalSecondaryIndexes":[
          {
            "IndexName":"handleLower-index",
            "KeySchema":[
              {
                "AttributeName":"handleLower",
                "KeyType":"HASH"
              }
            ],
            "ProvisionedThroughput":{
              "ReadCapacityUnits":"1",
              "WriteCapacityUnits":"1"
            },
            "Projection":{
              "ProjectionType":"ALL"
            }
          }
        ],
        "ProvisionedThroughput":{
          "ReadCapacityUnits":"2",
          "WriteCapacityUnits":"2"
        },
        "TableName":"MemberEnteredSkills"
      }
    },
    "MemberAggregatedSkills":{
      "Type":"AWS::DynamoDB::Table",
      "Properties":{
        "AttributeDefinitions":[
          {
            "AttributeName":"userId",
            "AttributeType":"N"
          },
          {
            "AttributeName":"handleLower",
            "AttributeType":"S"
          }
        ],
        "KeySchema":[
          {
            "AttributeName":"userId",
            "KeyType":"HASH"
          }
        ],
        "GlobalSecondaryIndexes":[
          {
            "IndexName":"handleLower-index",
            "KeySchema":[
              {
                "AttributeName":"handleLower",
                "KeyType":"HASH"
              }
            ],
            "ProvisionedThroughput":{
              "ReadCapacityUnits":"1",
              "WriteCapacityUnits":"1"
            },
            "Projection":{
              "ProjectionType":"ALL"
            }
          }
        ],
        "ProvisionedThroughput":{
          "ReadCapacityUnits":"2",
          "WriteCapacityUnits":"2"
        },
        "TableName":"MemberAggregatedSkills"
      }
    }
  }
}
